<template name="login">
	{{> backgroundApp}}

	{{#generalLayout}}
	
	<div class="panel panel-default computed">
		<div class="panel-body">
			{{> loginAction}}
		</div>
	</div>

	{{/generalLayout}}
</template>

<template name="loginAction">
	<form id="signin" class="form-horizontal" role="form">
		<div class="form-group">
			<div class="col-sm-offset-2 col-sm-10">
				<p class="lead">Sign In:</p>
				{{#if session "resetPasswordError"}}
					<p class="alert alert-danger">
						There was a problem while sending you your reset email: {{session "resetPasswordError"}}.
					</p>
				{{/if}}
				{{#if session "signinError"}}
					<p class="alert alert-danger">{{session "signinError"}}.
						{{#if equals signinError "Incorrect password"}}
							<a id="resetPassword">Forgot password?</a>
						{{/if}}
					</p>
				{{/if}}
			</div>
		</div>

		<div class="form-group">
			<label class="col-sm-2 control-label">Email</label>
			<div class="col-sm-10">
				<input id="signinEmail" type="text" placeholder="Email"/>
			</div>
		</div>

		<div class="form-group">
			<label class="col-sm-2 control-label">Password</label>
			<div class="col-sm-10">
				<input id="signinPassword" type="password" placeholder="Password" />
			</div>
		</div>

		<div class="form-group">
			<div class="col-sm-offset-2 col-sm-10">
				<button type="submit"
				{{signinInputsValid}}>Sign In!</button>
			</div>
		</div>
	</form>

	<form id="signup" class="form-horizontal" role="form">
		<div class="form-group">
			<div class="col-sm-offset-2 col-sm-10">
				<p class="lead">Or Sign Up:</p>
				{{#if session "signupError"}}<p class="alert alert-danger">{{session "signupError"}}</p>{{/if}}
			</div>
		</div>

		<div class="form-group">
			<label class="col-sm-2 control-label">Email</label>
			<div class="col-sm-10">
				<input id="signupEmail" type="text" placeholder="Email"/>
			</div>
		</div>

		<div class="form-group">
			<label class="col-sm-2 control-label">Password</label>
			<div class="col-sm-10">
				<input id="signupPassword" type="password" placeholder="Password" />
			</div>
		</div>

		<div class="form-group">
			<div class="col-sm-offset-2 col-sm-10">
				<button type="submit" 
				{{signupInputsValid}}>Sign Up!</button>
			</div>
		</div>
	</form>
</template>